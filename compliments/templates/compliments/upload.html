{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CSV Compliment Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">

<style>
    body, html {
        height: 100%;
        margin: 0;
        font-family: 'Roboto', sans-serif;
        background: #f7f7f7;
        color: #333;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .container {
        text-align: center;
        background: #fff;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        max-width: 400px;
        width: 100%;
    }

    h1 {
        font-weight: 500;
        margin-bottom: 20px;
    }

    input[type='file'], input[type='text'] {
        width: calc(100% - 20px);
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
    }

    button {
        width: 100%;
        padding: 10px;
        border: none;
        background-color: #3498db;
        color: white;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #2980b9;
    }

    #loading {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background: rgba(255, 255, 255, 0.7);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .loading-bar {
        border: 5px solid #f3f3f3;
        border-top: 5px solid #3498db;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 2s linear infinite;
    }
    h2 {
    font-weight: 500;
    color: black;
    margin-top: 0;
}
textarea[name='compliment_prompt'] {
        width: calc(100% - 20px); /* Matches the input width */
        padding: 10px; /* Comfortable padding */
        margin-bottom: 10px; /* Spacing between elements */
        border: 1px solid #ddd; /* Subtle border */
        border-radius: 4px; /* Rounded corners */
        box-sizing: border-box; /* Border included in width */
        min-height: 200px; /* Minimum height */
        resize: vertical; /* Allow only vertical resizing */
        font-family: 'Roboto', sans-serif; /* Matching font with the rest of the form */
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    input[name='temperature'] {
        width: calc(100% - 20px); /* Matches the input width */
        padding: 10px; /* Comfortable padding */
        margin-bottom: 10px; /* Spacing between elements */
        border: 1px solid #ddd; /* Subtle border */
        border-radius: 4px; /* Rounded corners */
        box-sizing: border-box; /* Border included in width */
        font-family: 'Roboto', sans-serif; /* Matching font with the rest of the form */
        background-color: #f7f7f7; /* Background to match the form */
        color: #333; /* Text color to match the form */
    }

    /* Style for the input focus state to enhance user experience */
    input[name='temperature']:focus {
        outline: none; /* Removes the default focus outline */
        border-color: #3498db; /* Adds a blue border to indicate focus */
        box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2); /* Adds a subtle glow effect */
    }
</style>
</head>
<body>
<div class="container">
    <h1>Compliment Generator for Medical Practices</h1>
    <h2>By Dimensional Lynx</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="csv_file" accept=".csv" required />
        <input type="text" name="output_file_name" placeholder="Enter new CSV file name" required />
        <p>GPT temperature from 0-1</p>
        <input type="number" step="0.1" min="0" max="1" name="temperature" placeholder="Enter temperature (0.0 - 1.0)" value="0.7">
        <p>GPT Model</p>
        <input type="text" name="GPT Version" placeholder="Enter GPT version" required />
        <p>If Scrape Website:</p>
        <textarea name="compliment_prompt" required>Craft a compliment that highlights the exceptional qualities of {company_name}, focusing on elements like patient care, innovation, or community involvement. The compliment should be directed towards the business itself and use 'your' to reference the CEO and the company name to personalize the message. Draw inspiration from this website content:\n\n{content}\n\nCompliment to the Medical Practice:</textarea>
        <button type="submit">Generate Compliments</button>
    </form>
</div>
<div id="loading" style="display:none;">
    <div class="loading-bar"></div>
</div>
<script>
document.querySelector('form').addEventListener('submit', function() {
    document.getElementById('loading').style.display = 'flex'; // Show loading animation
    setTimeout(function() {
        document.getElementById('loading').style.display = 'none'; // Hide after 10 seconds
    }, 10000); // You might need to adjust this time
});

</script>

</body>
</html>
